if ( ENABLE_SHARED )
    set(libbroker broker)
else ()
    set(libbroker brokerStatic)
endif ()

macro(unit_test name)
    add_executable(${name} ${name}.cc)
    target_link_libraries(${name} ${libbroker})
    add_test(NAME ${name} COMMAND ${name})
endmacro()

unit_test(test_printing)
unit_test(test_remote_printing)
unit_test(test_data_master)
unit_test(test_data_clone)
unit_test(test_data_frontend)
